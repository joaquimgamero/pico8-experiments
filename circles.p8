pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function _init()
 r=9
 clr=12
 life=15
 
 -- number of circles per row
 n_circs_row=flr(128/(r*2))
 n_circs=n_circs_row^2
 shrink_amount=r/life
 
 circles={}
end



function _draw()
 cls(1)
 
 if #circles > 0 then
  for c in all(circles) do
   circfill(c.x,c.y,c.r,c.clr)
  end
 end
end



function _update()
 if btn(❎) and #circles==0 then
  local row=1
  local col=1
  
  for i=1,n_circs do
   add(circles,{
    r=r,
    clr=clr,
    life=life,
    x=col+r,
    y=row+r,
   })
   
   col+=r*2
   
   if col+r*2 >= 128 then
   	col=1
   	row+=r*2
   end
  end
 end
 
 for circle in all(circles) do
  if circle.life>0 then
   circle.r-=shrink_amount
   circle.life-=1
  else
   del(circles,circle)
  end
 end
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
